<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.15.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>FM Receiver Project: Main Application</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">FM Receiver Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.15.0 -->
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',false,false,'search.php','Search',true);
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(function(){initNavTree('group__main__app.html','',''); });
</script>
<div id="container">
<div id="doc-content">
<div class="header">
  <div class="headertitle"><div class="title">Main Application </div></div>
</div><!--header-->
<div class="contents">

<p>Main control logic for the FM Receiver.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-define-members" class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:gae55225024bd160dd59985cb17eb5a2ed" id="r_gae55225024bd160dd59985cb17eb5a2ed"><td class="memItemLeft" align="right" valign="top"><a id="gae55225024bd160dd59985cb17eb5a2ed" name="gae55225024bd160dd59985cb17eb5a2ed"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>BTN_UP</b>&#160;&#160;&#160;PD5</td></tr>
<tr class="memdesc:gae55225024bd160dd59985cb17eb5a2ed"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pin definition for the Seek Up button (integrated in Encoder). <br /></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-func-members" class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga04d15415078aad7f7537d6a2bed2b942" id="r_ga04d15415078aad7f7537d6a2bed2b942"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga04d15415078aad7f7537d6a2bed2b942">update_display</a> (uint16_t freq, char *rds_text)</td></tr>
<tr class="memdesc:ga04d15415078aad7f7537d6a2bed2b942"><td class="mdescLeft">&#160;</td><td class="mdescRight">Updates the OLED display with frequency and RDS data.  <br /></td></tr>
<tr class="memitem:ga840291bc02cba5474a4cb46a9b9566fe" id="r_ga840291bc02cba5474a4cb46a9b9566fe"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga840291bc02cba5474a4cb46a9b9566fe">main</a> (void)</td></tr>
<tr class="memdesc:ga840291bc02cba5474a4cb46a9b9566fe"><td class="mdescLeft">&#160;</td><td class="mdescRight">Main entry point of the program.  <br /></td></tr>
</table>
<a name="details" id="details"></a><h2 id="header-details" class="groupheader">Detailed Description</h2>
<p>Main control logic for the FM Receiver. </p>
<p>Contains the infinite loop, state management, and interaction between the Encoder, Buttons, Radio, and Display.</p>
<dl class="section author"><dt>Author</dt><dd>Střítežský Jiří </dd>
<dd>
Svoboda Patrik </dd>
<dd>
Javůrek Kryštof </dd></dl>
<a name="doc-func-members" id="doc-func-members"></a><h2 id="header-doc-func-members" class="groupheader">Function Documentation</h2>
<a id="ga840291bc02cba5474a4cb46a9b9566fe" name="ga840291bc02cba5474a4cb46a9b9566fe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga840291bc02cba5474a4cb46a9b9566fe">&#9670;&#160;</a></span>main()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int main </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Main entry point of the program. </p>
<ul>
<li>Initializes all libraries (UART, I2C, Si4703, OLED, GPIO, Encoder) and enters the main event loop. The loop monitors the encoder for frequency changes and the button for seek operations. It also manages the timing for reading RDS data to ensure the station is settled before attempting a read.</li>
<li><dl class="section return"><dt>Returns</dt><dd>int Returns 0 upon termination (never reached in embedded context). </dd></dl>
</li>
</ul>

</div>
</div>
<a id="ga04d15415078aad7f7537d6a2bed2b942" name="ga04d15415078aad7f7537d6a2bed2b942"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga04d15415078aad7f7537d6a2bed2b942">&#9670;&#160;</a></span>update_display()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void update_display </td>
          <td>(</td>
          <td class="paramtype">uint16_t</td>          <td class="paramname"><span class="paramname"><em>freq</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *</td>          <td class="paramname"><span class="paramname"><em>rds_text</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Updates the OLED display with frequency and RDS data. </p>
<ul>
<li>This function clears the screen and redraws the current station information, including the frequency formatted in MHz and any received Radio Data System (RDS) text.</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">freq</td><td>The current frequency (e.g., 1055 for 105.5 MHz). </td></tr>
    <tr><td class="paramname">rds_text</td><td>A pointer to the string containing the RDS message/station name. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>none </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<div id="page-nav" class="page-nav-panel">
<div id="page-nav-resize-handle"></div>
<div id="page-nav-tree">
<div id="page-nav-contents">
</div><!-- page-nav-contents -->
</div><!-- page-nav-tree -->
</div><!-- page-nav -->
</div><!-- container -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.15.0 </li>
  </ul>
</div>
</body>
</html>
